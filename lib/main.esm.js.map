{"version":3,"file":"main.esm.js","sources":["../src/main.ts"],"sourcesContent":["type SessionStorageItem = {\n    data: any,\n};\n\nexport class SessionStorage {\n    static set(key: string, value: any): void {\n        const item: SessionStorageItem = {\n            data  : value instanceof Function ? value() : value,\n        };\n\n        sessionStorage.setItem(key, JSON.stringify(item));\n    }\n\n    /**\n     * Get the key from the Storage object.\n     *\n     * @param { string } key String containing the name of the key you want to create.\n     * @param { string | Function | null } fallback String containing the fallback value.\n     *\n     * @return { * }\n     */\n    static get(key: string, fallback: string | Function | null = null): any {\n        const storageItem: string | null = sessionStorage.getItem(key);\n\n        if (storageItem === null) {\n            return fallback instanceof Function ? fallback() : fallback ?? null;\n        }\n\n        try {\n            const item: SessionStorageItem = JSON.parse(storageItem);\n\n            return item.data ?? item;\n        } catch (error) {\n            return storageItem;\n        }\n    }\n\n    /**\n     * Get the key from the Storage, or execute the given callback and store the result.\n     *\n     * @param { string } key String containing the name of the key you want to create.\n     * @param { Function } callback Function you want to execute.\n     *\n     * @return { any }\n     */\n    static remember(key: string, callback: Function): any {\n        const item: string | null = SessionStorage.get(key);\n\n        if (item === null) {\n            SessionStorage.set(key, callback);\n        }\n\n        return item ?? SessionStorage.get(key);\n    }\n\n    /**\n     * Retrieves all items from the Storage object.\n     *\n     * @return { object }\n     */\n    static all(): object {\n        const storage: object | any = { ...sessionStorage };\n\n        for (const item in storage) {\n            storage[item] = SessionStorage.get(item);\n        }\n\n        return storage;\n    }\n\n    /**\n     * Remove the key from the Storage object.\n     *\n     * @param { string } key String containing the name of the key you want to delete.\n     */\n    static remove(key: string): void {\n        sessionStorage.removeItem(key);\n    }\n\n    /**\n     * Clear all keys stored in a given Storage object.\n     */\n    static clear(): void {\n        sessionStorage.clear();\n    }\n\n    /**\n     * Determine if the key exists in the Storage object.\n     *\n     * @param { string } key String containing the name of the key you want to check against\n     *\n     * @return { boolean }\n     */\n    static has(key: string): boolean {\n        return !!SessionStorage.get(key);\n    }\n\n    /**\n     * Determine if any of the keys exists in the Storage object.\n     *\n     * @param { string | array } keys String containing the name of the key you want to check against\n     *\n     * @return { boolean }\n     */\n    static hasAny(keys: string | string[]): boolean {\n        keys = keys instanceof Array ? keys : [...arguments];\n\n        return keys.filter((key: string) => SessionStorage.has(key)).length > 0;\n    }\n\n    /**\n     * Determine if the Storage object is empty.\n     *\n     * @return { boolean }\n     */\n    static isEmpty(): boolean {\n        return Object.keys(SessionStorage.all()).length === 0;\n    }\n\n    /**\n     * Determine if the Storage object is not empty.\n     *\n     * @return { boolean }\n     */\n    static isNotEmpty(): boolean {\n        return !SessionStorage.isEmpty();\n    }\n\n    /**\n     * Retrieves all keys from the Storage object.\n     *\n     * @return { array }\n     */\n    static keys(): string[] {\n        return Object.keys(sessionStorage);\n    }\n\n    /**\n     * Returns the total number of items in the Storage object.\n     *\n     * @return { number }\n     */\n    static count(): number {\n        return sessionStorage.length;\n    }\n\n    /**\n     * Dump the key from the Storage object.\n     *\n     * @param { string } key String containing the name of the key you want to dump.\n     */\n    static dump(key: string): void {\n        console.log(SessionStorage.get(key));\n    }\n}\n\nif (typeof window !== 'undefined') {\n    (window as any).SessionStorage = SessionStorage;\n}\n\nif (typeof global !== 'undefined') {\n    (global as any).SessionStorage = SessionStorage;\n}"],"names":[],"mappings":"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"}