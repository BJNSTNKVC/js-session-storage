{"version":3,"file":"main.min.js","sources":["../src/main.ts"],"sourcesContent":["export type SessionStorageItem = {\n    data: any,\n};\n\nexport class SessionStorage {\n    /**\n     * Set the key to the Storage object.\n     *\n     * @param { string } key String containing the name of the key you want to create.\n     * @param { * } value String containing the value of the key you want to create.\n     */\n    static set(key: string, value: any): void {\n        const item: SessionStorageItem = {\n            data: value instanceof Function ? value() : value,\n        };\n\n        sessionStorage.setItem(key, JSON.stringify(item));\n    }\n\n    /**\n     * Get the key from the Storage object.\n     *\n     * @param { string } key String containing the name of the key you want to create.\n     * @param { string | Function | null } fallback String containing the fallback value.\n     *\n     * @return { * }\n     */\n    static get(key: string, fallback: string | Function | null = null): any {\n        const storageItem: string | null = sessionStorage.getItem(key);\n\n        if (storageItem === null) {\n            return fallback instanceof Function ? fallback() : fallback ?? null;\n        }\n\n        try {\n            const item: SessionStorageItem = JSON.parse(storageItem);\n\n            return item.data ?? item;\n        } catch {\n            return storageItem;\n        }\n    }\n\n    /**\n     * Get the key from the Storage, or execute the given callback and store the result.\n     *\n     * @param { string } key String containing the name of the key you want to create.\n     * @param { Function } callback Function you want to execute.\n     *\n     * @return { any }\n     */\n    static remember(key: string, callback: Function): any {\n        const item: string | null = this.get(key);\n\n        if (item === null) {\n            this.set(key, callback);\n        }\n\n        return item ?? this.get(key);\n    }\n\n    /**\n     * Retrieves all items from the Storage object.\n     *\n     * @return { { key: string, value: any }[] }\n     */\n    static all(): { key: string, value: any }[]  {\n        return this.keys().map((key: string): { key: string, value: any } => {\n            return { key, value: this.get(key) };\n        });\n    }\n\n    /**\n     * Remove the key from the Storage object.\n     *\n     * @param { string } key String containing the name of the key you want to delete.\n     */\n    static remove(key: string): void {\n        sessionStorage.removeItem(key);\n    }\n\n    /**\n     * Clear all keys stored in a given Storage object.\n     */\n    static clear(): void {\n        sessionStorage.clear();\n    }\n\n    /**\n     * Determine if the key exists in the Storage object.\n     *\n     * @param { string } key String containing the name of the key you want to check against\n     *\n     * @return { boolean }\n     */\n    static has(key: string): boolean {\n        return !!this.get(key);\n    }\n\n    /**\n     * Determine if any of the keys exists in the Storage object.\n     *\n     * @param { string | string[] } keys String containing the name of the key you want to check against\n     *\n     * @return { boolean }\n     */\n    static hasAny(...keys: [string | string[]] | string[]): boolean {\n        if (keys.length === 1) {\n            if (Array.isArray(keys[0])) {\n                keys = keys[0];\n            } else {\n                keys = [keys[0]];\n            }\n        }\n\n        return keys.some((key: string): boolean => this.has(key));\n    }\n\n    /**\n     * Determine if the Storage object is empty.\n     *\n     * @return { boolean }\n     */\n    static isEmpty(): boolean {\n        return sessionStorage.length === 0;\n    }\n\n    /**\n     * Determine if the Storage object is not empty.\n     *\n     * @return { boolean }\n     */\n    static isNotEmpty(): boolean {\n        return !this.isEmpty();\n    }\n\n    /**\n     * Retrieves all keys from the Storage object.\n     *\n     * @return { string[] }\n     */\n    static keys(): string[] {\n        return Object.keys(sessionStorage);\n    }\n\n    /**\n     * Returns the total number of items in the Storage object.\n     *\n     * @return { number }\n     */\n    static count(): number {\n        return sessionStorage.length;\n    }\n\n    /**\n     * Dump the key from the Storage object.\n     *\n     * @param { string } key String containing the name of the key you want to dump.\n     */\n    static dump(key: string): void {\n        console.log(this.get(key));\n    }\n}\n\nif (typeof window !== 'undefined') {\n    (window as any).SessionStorage = SessionStorage;\n}\n\nif (typeof global !== 'undefined') {\n    (global as any).SessionStorage = SessionStorage;\n}"],"names":["SessionStorage","set","key","value","item","data","Function","sessionStorage","setItem","JSON","stringify","get","fallback","storageItem","getItem","parse","_a","_b","remember","callback","this","all","keys","map","remove","removeItem","clear","has","hasAny","length","Array","isArray","some","isEmpty","isNotEmpty","Object","count","dump","console","log","window","global"],"mappings":"2PAIaA,EAOT,UAAOC,CAAIC,EAAaC,GACpB,MAAMC,EAA2B,CAC7BC,KAAMF,aAAiBG,SAAWH,IAAUA,GAGhDI,eAAeC,QAAQN,EAAKO,KAAKC,UAAUN,IAW/C,UAAOO,CAAIT,EAAaU,EAAqC,YACzD,MAAMC,EAA6BN,eAAeO,QAAQZ,GAE1D,GAAoB,OAAhBW,EACA,OAAOD,aAAoBN,SAAWM,IAAaA,QAAAA,EAAY,KAGnE,IACI,MAAMR,EAA2BK,KAAKM,MAAMF,GAE5C,OAAgB,UAATT,EAAKC,YAAI,IAAAW,EAAAA,EAAIZ,EACtB,MAAAa,GACE,OAAOJ,GAYf,eAAOK,CAAShB,EAAaiB,GACzB,MAAMf,EAAsBgB,KAAKT,IAAIT,GAMrC,OAJa,OAATE,GACAgB,KAAKnB,IAAIC,EAAKiB,GAGXf,QAAAA,EAAQgB,KAAKT,IAAIT,GAQ5B,UAAOmB,GACH,OAAOD,KAAKE,OAAOC,IAAKrB,IACb,CAAEA,MAAKC,MAAOiB,KAAKT,IAAIT,MAStC,aAAOsB,CAAOtB,GACVK,eAAekB,WAAWvB,GAM9B,YAAOwB,GACHnB,eAAemB,QAUnB,UAAOC,CAAIzB,GACP,QAASkB,KAAKT,IAAIT,GAUtB,aAAO0B,IAAUN,GASb,OARoB,IAAhBA,EAAKO,SAEDP,EADAQ,MAAMC,QAAQT,EAAK,IACZA,EAAK,GAEL,CAACA,EAAK,KAIdA,EAAKU,KAAM9B,GAAyBkB,KAAKO,IAAIzB,IAQxD,cAAO+B,GACH,OAAiC,IAA1B1B,eAAesB,OAQ1B,iBAAOK,GACH,OAAQd,KAAKa,UAQjB,WAAOX,GACH,OAAOa,OAAOb,KAAKf,gBAQvB,YAAO6B,GACH,OAAO7B,eAAesB,OAQ1B,WAAOQ,CAAKnC,GACRoC,QAAQC,IAAInB,KAAKT,IAAIT,KAIP,oBAAXsC,SACNA,OAAexC,eAAiBA,GAGf,oBAAXyC,SACNA,OAAezC,eAAiBA"}